
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brandon Trebitowski</title>
  <meta name="author" content="Brandon Trebitowski">

  
  <meta name="description" content="My latest iOS app, Smart Lockscreen Creator has just released on iPhone for $.99. Download It Here The Idea Currently your lockscreen on your iOS &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://brandontreb.com/blog/page/6/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/brandontreb" rel="alternate" title="Brandon Trebitowski" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-381854-9']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Brandon Trebitowski</a></h1>
  
    <h2>Independent iOS Developer</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/brandontreb" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:brandontreb.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/hire-me">Hire Me</a></li>
  <li><a href="/portfolio">Portfolio</a></li>
  <li><a href="https://twitter.com/brandontreb">Twitter</a></li>
  <li><a href="http://www.linkedin.com/in/brandontreb">Linked In</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/smart-lockscreen-creator-released-promo-codes/">Smart Lockscreen Creator Released + Promo Codes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-24T01:16:27-07:00" pubdate data-updated="true">Feb 24<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>My latest iOS app, Smart Lockscreen Creator has just released on iPhone for $.99.</p>

<p><a href="http://itunes.apple.com/app/smart-lockscreen-creator/id419890996?mt=8">Download It Here</a></p>

<h4><a href="http://brandontreb.com/wp-content/uploads/2011/02/smart-lockscreen-creator.jpeg"><img class="alignleft size-full wp-image-1448" title="smart-lockscreen-creator" src="http://brandontreb.com/wp-content/uploads/2011/02/smart-lockscreen-creator.jpeg" alt="" width="224" height="336" /></a>The Idea</h4>


<p>Currently your lockscreen on your iOS device is nothing more than a pretty watch with a background.  Jailbreakers have solved this issue with an incredible application called intelliscreen, which adds lots of interesting information to it.  However, you and I are Apple fanboys and won&#8217;t violate our precious iPhones with jailbreaking.  Enter Smart Lockscreen Creator.</p>

<p>Smart Lockscreen Creator allows you to build a completely custom (and smart) lockscreen image within the application.  You then set this image as your lockscreen background.  The following items are currently supported by the app.</p>

<ul>
<li>Current weather, condition, high and low for any city/region in the World</li>
<li>Weekly forecast for any city/region in the World</li>
<li>Monthly calendar</li>
<li>Custom text</li>
<li>Blank space (useful when customizing the look of your lockscreen)</li>
<li>Line separator</li>
<li>Many more in the works!</li>
</ul>


<p>Here are some promo codes.  If you fail to grab one and have some interest in reviewing the app on your site, I would be happy to email you one.</p>

<div id="_mcePaste">FMP9LRW4FP99</div>


<div id="_mcePaste">MH7XHH3FLH4P</div>


<div id="_mcePaste">JH9E47JXP9KA</div>


<div id="_mcePaste">RYRAPRARPAJ3</div>


<div id="_mcePaste">4FKKW6LN7W9J</div>


<div></div>


<div>If you have any suggestion for lockscreen &#8220;widgets&#8221;, don&#8217;t hesitate to post them here.</div>


<div></div>


<div>Please give some review love as well ;)</div>


<div></div>


<div style="text-align: center;"><a href="http://itunes.apple.com/app/smart-lockscreen-creator/id419890996?mt=8"><img class="alignnone size-full wp-image-1451" title="appstore1" src="http://brandontreb.com/wp-content/uploads/2011/02/appstore1.png" alt="" width="255" height="89" /></a></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/albuquerque-marathon-training/">Albuquerque Marathon Training</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-21T07:56:12-07:00" pubdate data-updated="true">Feb 21<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="alignright" title="albuquerque-marathon" src="http://www.active.com/images/upimages/Logo554.jpg" alt="" width="288" height="288" />Well, I have finally decided to put my money where my mouth is when it comes to fitness and train up for a half marathon! The marathon I&#8217;m training for is the <a href="http://www.active.com/running/albuquerque-nm/albuquerque-half-marathon-2011">Albuquerque Half Marathon</a> on Saturday, April 16th at 8 am (that logo is such an eyesore).</p>

<p>Two months seems like a relatively short time to prepare, especially for my first &#8220;real&#8221; run, however I am just aiming to finish rather than being competitive.  Right now, I am running about 3-4 miles per day with a longer day of ~5 miles.  As the weeks pass, I intend on upping that to ~5 miles/day with a longer run at about 10 miles.</p>

<p>If any of you are training for something similar, I would love any advice, feedback, criticism, encouragement, stories, etc&#8230; that you have.  Just post em in the comments.</p>

<p>Also, for those of you who are on <strong>nike+</strong>, please befriend me.  My username is (you guessed it) <strong>brandontreb</strong>.</p>

<p>I&#8217;m very excited about this goal and will be blogging along the way (amidst my other coding related posts of course).</p>

<p><strong>It&#8217;s a long road ahead ;)</strong></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/tweet-press-3-2-update-sidebar-widget/">Tweet Press 3.2 Update - Sidebar Widget</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-16T10:54:51-07:00" pubdate data-updated="true">Feb 16<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have recently had an overwhelming number of requests for a sidebar widget that displays your recent Tweetpress photos.  Well, it&#8217;s finally here!  The update was actually quite trivial to make.  If I had known how simple it would be, I would have made it months ago.</p>

<p>Make sure you update to the latest version: <a href="http://wordpress.org/extend/plugins/tweetpress/">tweetpress 3.2</a></p>

<p><b>How to use it</b>
In the Wordpress admin, click on Appearance and the Widgets from the sidebar menu.  If your theme supports widgets (which is should), you will see a Tweetpress widget in the available widgets list.</p>

<p>Next drag that widget into the sidebar area and modify the settings.</p>

<br/><a href="http://brandontreb.com/wp-content/uploads/2011/02/20110216-065023.jpg"><img src="http://brandontreb.com/wp-content/uploads/2011/02/20110216-065023.jpg" alt="" class="alignnone size-full" /></a>


<p>You can configure the title of the widget as well as the number of photos to be displayed. Please comment here or shoot me an email if you experience any issues with it.  I&#8217;m also open to suggestions.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/its-elementary-my-dear-watson/">It&#8217;s Elementary My Dear Watson</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-15T07:08:58-07:00" pubdate data-updated="true">Feb 15<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class="wp-caption aligncenter" style="width: 577px"><img title="watson" src="http://cdn.venturebeat.com/wp-content/uploads/2011/01/watson-ai-jeopardy.jpg" alt="" width="567" height="331" /><p class="wp-caption-text">IBM&#39;s Watson on Jeopardy</p></div>


<p></p>

<p style="text-align: left;">Last night marked the beginning of the <a href="http://www-943.ibm.com/innovation/us/watson/">IBM Jeopardy challenge</a>.  For those of you who don&#8217;t know, IBM has been working for some time on a system (named Watson) that has overcome some amazing challenges.  The goal: to build an entirely self-contained system that can beat the World&#8217;s best Jeopardy players.</p>


<p>Now, I&#8217;m not going to give you a rundown on it as I&#8217;m sure that you can (or have already) read it on a website far more popular than mine.  I just wanted to publicly geek out for a second&#8230;</p>

<p>I was watching the episode of Jeopardy with my wife, and at first glance she was like &#8220;duh, of course a computer could win at Jeopardy&#8221;.  This made me realize that to a non engineer, this seems like a trivial task since computers are magical Facebook boxes.</p>

<p>Now me on the other hand, I was giddy to the point of almost wetting myself.  Seeing how far we have come in AI development and language processing is absolutely incredible.</p>

<p>I for one, will be glued to my tv tonight to watch Watson&#8217;s next round of Jeopardy.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/case-of-the-mondays/">Case of the Mondays</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-14T05:00:28-07:00" pubdate data-updated="true">Feb 14<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div id="attachment_1421" class="wp-caption alignright" style="width: 330px"><a href="http://brandontreb.com/wp-content/uploads/2011/02/office-spacejpg.jpeg"><img class="size-full wp-image-1421 " title="office-spacejpg" src="http://brandontreb.com/wp-content/uploads/2011/02/office-spacejpg.jpeg" alt="" width="320" height="240" /></a><p class="wp-caption-text">Mondays&#8230;</p></div>


<p></p>

<p>The other day, I was faced with an interesting programming challenge and wanted to share my solution.  I just submitted a pretty interesting app to the app store that does a number of things (more details soon).  Among those things is the ability to generate a calendar.</p>

<h4>The Problem</h4>


<p>Generating the calendar was the easy part, however when displayed, I wanted it to highlight every Monday of the month.  This turned out to be a bit trickier than I imagined.</p>

<p>Really the main challenge here was to determine which day contained the <em>first</em> Monday of the month. After that, we just loop incrementing by 7 and are done.</p>

<h4>Looking At The Date Helpers</h4>


<p>Looking at what I had to work with in NSDate, NSCalendar, and NSDateComponents, I really found only 2 things that could help me.  From NSDateComponents, I could figure out the current day (numeric) and the current day of the week (numeric).  Knowing this information was very important.</p>

<h4>The Solution</h4>


<p>Having the current day and day of the week allowed me to find the date of the Monday on the current week.  This was the first challenge as demonstrated below.  Assume weekdayComponents is the NSDateComponents generated from the current date.</p>

<div>
  <pre><code class='objc'>NSInteger weekday = [weekdayComponents weekday];
NSInteger day         = [weekdayComponents day];

// First, find how many days we are from Monday
int daysAwayFromMonday = weekday - 2;

// Now resolve the monday of this week
int mondayThisWeek = day - daysAwayFromMonday;

// Check if monday this week falls in last month
if(mondayThisWeek &amp;lt;= 0) {
    mondayThisWeek = day + (7 - daysAwayFromMonday);
}</code></pre>
</div>


<p>mondayThisWeek will now contain the day number of the Monday of the current week.  If that Monday falls on the previous month, mondayThisWeek will be negative. Line 12 resolves that by carrying it into next week.</p>

<p>Finally, we just loop subtracting 7 from that Monday until mondayThisWeek is less than 7 to get the first Monday of the month.</p>

<div>
  <pre><code class='objc'>while(mondayThisWeek &amp;gt; 7) {
    mondayThisWeek -= 7;
}</code></pre>
</div>


<p>And there you have it.  mondayThisWeek (improperly named at this point) will contain the day number of the first Monday for the current month.</p>

<p>So, this was quite a round-a-bout way to find this value.  If you have a better solution, please feel free to trash on mine in the comments ;) .</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/farewell-for-now-idevblogaday/">Farewell (for Now) iDevBlogADay</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-20T01:00:03-07:00" pubdate data-updated="true">Jan 20<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p style="text-align: center;"><a href="http://brandontreb.com/wp-content/uploads/2011/01/44696226_farewell_ap466.jpeg"><img class="alignnone size-full wp-image-1407" title="_44696226_farewell_ap466" src="http://brandontreb.com/wp-content/uploads/2011/01/44696226_farewell_ap466.jpeg" alt="" width="466" height="300" /></a></p>


<p>Hey guys,</p>

<p>I wanted to thank everyone for letting me be a part of the iDevBlogADay community.  You guys have been super supportive and I really appreciate all of the commenting, retweeting, and upvoting of my iDevBlogADay articles.</p>

<p>I have found myself in a position with life (work + family) where I may no longer be able to consistently write a post per week.  So, after 2 months of writing, it is time for me to pass the torch to the next blogger on the list.</p>

<p>I will still continue to blog (and continue my Twitter For Mac Series), so I really encourage you to subscribe to my <a href="http://feeds2.feedburner.com/brandontreb">RSS feed</a> (or <a href="http://twitter.com/brandontreb">Twitter feed</a>).</p>

<p>Thanks again and Happy Coding!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/appblogger-a-tool-for-ios-app-developers-and-bloggers/">AppBlogger: A Tool for iOS App Developers and Bloggers</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-13T12:42:17-07:00" pubdate data-updated="true">Jan 13<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Imagine that you have just found the coolest app in the world and just can&#8217;t wait to tell all of your followers about it.  So, you head to the admin panel of your blogging engine (hopefully <a href="http://wpwithlove.com">Wordpress</a>) and begin to write your review.  Now, you want to insert some screenshots, icons, descriptions, app store links, etc&#8230; So, what do you do?  You head on over to Bing and type in google.com.  Next, you search your app name and hopefully find the iTunes URL so that you can slowly grab some information about the app. <span style="color: #ff0000;">#Fail</span></p>

<p>Dum duh dum duh (trumpet noises)!</p>

<p>Enter <a href="http://brandontreb.com/apps/appBlogger" target="_blank">AppBlogger</a>.  <a href="http://brandontreb.com/apps/appBlogger" target="_blank">AppBlogger</a> is a little tool that I have been working on that uses &#8220;Instant Search&#8221; technology (jquery fanciness) to allow you to instantly search the app store and <strong>quickly</strong> get the information you need.</p>

<p><a href="http://brandontreb.com/apps/appBlogger/"><img class="alignnone size-full wp-image-1383" title="Screen shot 2011-01-13 at 7.17.04 PM" src="http://brandontreb.com/wp-content/uploads/2011/01/Screen-shot-2011-01-13-at-7.17.04-PM.png" alt="" width="539" height="468" /></a></p>

<p><strong>How Does It Work?</strong> (you say)</p>

<p>As you start typing, <a href="http://brandontreb.com/apps/appBlogger/" target="_blank">AppBlogger</a> makes an asynchronous request to the iTunes web service and pulls a list of applications that match your search terms.  This list is presented as a bunch of icons.  You will then click on one of these icons to pull of the details page of that application.</p>

<p><img class="size-full wp-image-1387 alignleft" title="Screen shot 2011-01-13 at 7.25.52 PM" src="http://brandontreb.com/wp-content/uploads/2011/01/Screen-shot-2011-01-13-at-7.25.52-PM.png" alt="" width="219" height="227" /></p>

<p>The details page (see above screenshot) then contains everything you need to write a stellar blog post about that application.  It provides text fields (for easy copy and paste) with icon URLs, download URL, and screenshot URLs.</p>

<p>I have some plans to integrate this in the <em>near</em> future with my <a href="http://brandontreb.com/apps/linkshare">Link Share</a> tool to auto generate shortened URLs that contain your affiliate code (so you can make $).  If you have any other suggestions for it, I would love to hear them.</p>

<p>I know many of you are heartbroken and were expecting the next iteration of my <a href="http://brandontreb.com/creating-a-twitter-client-for-osx-part-1/">Twitter Client For Mac</a> series.  I want you to know, you are not forgotten and I will continue the series next Thursday.  So Stay Tuned!</p>

<p>Check out <a href="http://brandontreb.com/apps/appBlogger">AppBlogger</a>!</p>

<div style="font-family: 'Lucida Grande';"><span style="font-family: 'Lucida Grande';"><strong><span style="font-weight: normal;"><span style="font-family: arial, verdana, tahoma, sans-serif; font-size: 13px; line-height: 20px;"><em>﻿﻿This post is part of <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://idevblogaday.com/">iDevBlogADay</a>, a group of indie iOS development blogs featuring two posts per day. You can keep up with iDevBlogADay through the <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://idevblogaday.com/">web site</a>, <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://feeds.feedburner.com/idevblogaday">RSS feed</a>, or <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://twitter.com/#search?q=%23idevblogaday">Twitter</a>.</em></span></span></strong></span></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/image-manipulation-retrieving-and-updating-pixel-values-for-a-uiimage/">Image Manipulation: Retrieving and Updating Pixel Values for a UIImage</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-06T10:15:58-07:00" pubdate data-updated="true">Jan 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div id="attachment_1371" class="wp-caption alignright" style="width: 410px"><a href="http://brandontreb.com/wp-content/uploads/2011/01/jobs.png"><img class="size-full wp-image-1371 " title="jobs" src="http://brandontreb.com/wp-content/uploads/2011/01/jobs.png" alt="" width="400" height="224" /></a><p class="wp-caption-text">Grayscale Jobs</p></div>


<p></p>

<p>With the recent success of cool photo manipulation apps such as Camera+ and Instagram, it got me wondering.  How do these photo apps modify the pixel data of the image.</p>

<p>After doing a bit of research on the subject, I found countless posts on Stack Overflow and the Developer forums about various methods to get and set the pixel values of a UIImage.  Most of them unanswered or partially answered.  I tested out many solutions and banged my head on my computer into the whee hours of the morning with no success.  Every solution I tried seemed to completely destroy the image.</p>

<p>It wasn&#8217;t until this morning, I had an &#8220;aha&#8221; moment, changed one line of code and was able to produce a grayscale version of a UIImage.</p>

<p>Having the ability to get and set pixel values of a UIImage is super important if you want to create a photo related app that has &#8220;Filters&#8221;.  Once you know the basics, you can apply your ninja math skillz to implement cool filter algorithms on the pixels.  Below, I will show you onc such algorithm for converting an image to grayscale (it&#8217;s not <em>that</em> clever).</p>

<p>I should note, that a good majority of my code comes from Olie&#8217;s solution on this <a href="http://stackoverflow.com/questions/448125/how-to-get-pixel-data-from-a-uiimage-cocoa-touch-or-cgimage-core-graphics">Stack Overflow post</a>.  His example simply returns and array of UIColor objects for a given image.  Mine will modify those colors and write them back to a UIImage.</p>

<h4>Converting A UIImage Into A Pixel Array</h4>


<p>Here is the first part of our grayscale method.  It is creating a char array from a global UIImage property named workingImage.</p>

<div>
  <pre><code class='objc'>- (IBAction) grayscale:(id) sender {
    CGContextRef ctx;
    CGImageRef imageRef = [self.workingImage CGImage];
    NSUInteger width = CGImageGetWidth(imageRef);
    NSUInteger height = CGImageGetHeight(imageRef);
    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
    unsigned char *rawData = malloc(height * width * 4);
    NSUInteger bytesPerPixel = 4;
    NSUInteger bytesPerRow = bytesPerPixel * width;
    NSUInteger bitsPerComponent = 8;
    CGContextRef context = CGBitmapContextCreate(rawData, width, height,
    bitsPerComponent, bytesPerRow, colorSpace,
    kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);
    CGColorSpaceRelease(colorSpace);

    CGContextDrawImage(context, CGRectMake(0, 0, width, height), imageRef);
    CGContextRelease(context);
    .
    .
    .</code></pre>
</div>


<p>This is a lot of Core Graphics fanciness that isn&#8217;t super important to understand.  It&#8217;s just getting the RGBA values from the image and writing them into the rawData char array.  There are 4 bytes per pixel (red, green, blue, alpha), so this array contains 4 * height * width elements.</p>

<h4>Modifying The Pixels of a UIImage</h4>


<p>Here is where the magic happens.  You can replace this code with the logic necessary to apply the filter you are making.  Another clever way to approach this would be to pass this code in as a block into the method (I&#8217;ll leave that as an exercise for the reader :)).</p>

<div>
  <pre><code class='objc'>.
.
.
    int byteIndex = 0;
    for (int ii = 0 ; ii &amp;lt; width * height ; ++ii)
    {
    int outputColor = (rawData[byteIndex] + rawData[byteIndex+1] +
        rawData[byteIndex+2]) / 3;

    rawData[byteIndex] = (char) (outputColor);
    rawData[byteIndex+1] = (char) (outputColor);
    rawData[byteIndex+2] = (char) (outputColor);

        byteIndex += 4;
    }

.
.
.</code></pre>
</div>


<p>The first part is pretty straight forward, we have a for loop that goes from 0 to width * height.  We index into the rawData array using a counter that we increment by 4 each time (remember 4 bytes per pixel).  As you can imagine, the first pixel (rawData[byteIndex]) represents the red pixel, then green for +1, blue for +2, and finally alpha for +3.  Note that the alpha byte is last because kCGImageAlphaPremultipliedLast flag above.</p>

<p>In order to do grayscale, we simple set all of the color values to the average color value.  So, for example the color [218,232,244] (which is the light blue color of the Wordpress editor&#8217;s toolbar) would be converted to [231,231,231] which is a fairly light gray color.</p>

<p>The most important step that everyone in the forums seemed to miss was casting the new value to a char.  Remember we are using a char array, setting ints as values will generally screw up your image. (This was my &#8220;aha&#8221; moment that I mentioned above)</p>

<h4>Writing The Pixels Back To a UIImage</h4>


<p>The final step is to write the pixel data back to a UIImage.  Again, I borrowed some of this code from somewhere else and unfortunately lost the link.  If I find it, I will update the post.</p>

<div>
  <pre><code class='objc'>.
.
.
    ctx = CGBitmapContextCreate(rawData,
        CGImageGetWidth( imageRef ),
        CGImageGetHeight( imageRef ),
        8,
        CGImageGetBytesPerRow( imageRef ),
        CGImageGetColorSpace( imageRef ),
        kCGImageAlphaPremultipliedLast ); 

    imageRef = CGBitmapContextCreateImage (ctx);
    UIImage* rawImage = [UIImage imageWithCGImage:imageRef];  

    CGContextRelease(ctx);  

    self.workingImage = rawImage;  

    free(rawData);
}</code></pre>
</div>


<p>All we are doing here is creating a new Bitmap Context, writing it to our CGImageRef and constructing a new UIImage from that CGImageRef. Finally, we just update our workingImage with the modified one.  Fancy, I know&#8230;</p>

<p>Now, much of this code is to work with my example (download below), but it could easily be tweaked to fit within your super awesome photo app.  If you have any questions or comments PLEASE leave them here or send them to me on Twitter (but probably leave them here ;) ).</p>

<p><a href="http://brandontreb.com/wp-content/uploads/2011/01/ImageManip.zip">Download The Sample Source Project</a></p>

<ul>
<li>Note on the sample code: Before you give me crap about doing this in the main thread, I know.  Don&#8217;t do these operation on the main thread.  The example is meant to be quick and dirty and by no means is ready for production. Enjoy!</li>
</ul>


<p><span style="font-family: 'Lucida Grande';"><strong><span style="font-weight: normal;"><span style="font-family: arial, verdana, tahoma, sans-serif; font-size: 13px; line-height: 20px;"><em>﻿﻿This post is part of <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://idevblogaday.com/">iDevBlogADay</a>, a group of indie iOS development blogs featuring two posts per day. You can keep up with iDevBlogADay through the <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://idevblogaday.com/">web site</a>, <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://feeds.feedburner.com/idevblogaday">RSS feed</a>, or <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://twitter.com/#search?q=%23idevblogaday">Twitter</a>.</em></span></span></strong></span></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/pimp-wallpaper/">[Pi]mp Wallpaper</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-03T08:06:15-07:00" pubdate data-updated="true">Jan 3<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div id="attachment_1351" class="wp-caption alignnone" style="width: 548px"><a href="http://brandontreb.com/wp-content/uploads/2011/01/MvTPa.jpg"><img class="size-full wp-image-1351  " title="MvTPa" src="http://brandontreb.com/wp-content/uploads/2011/01/MvTPa.jpg" alt="" width="538" height="336" /></a><p class="wp-caption-text">Found on Reddit</p></div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/what-does-your-workspace-look-like/">What Does Your Workspace Look Like?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-30T15:07:30-07:00" pubdate data-updated="true">Dec 30<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I am always very fascinated with the workspaces of others and frequently check out Lifehacker&#8217;s posts on their <a href="http://lifehacker.com/tag/featured-workspace/">featured workspaces</a>.  So, for this iDevBlogADay post, I thought I would keep it short and simple with a request.  I want to see (and I&#8217;m sure others do too) photos of YOUR workspaces (especially those of you with s<a href="http://gamesfromwithin.com/my-standing-desk-experiment">tanding desks</a>).</p>

<p>Seeing someone&#8217;s work area is especially inspring to me, I love seeing where others create and what they surround themselves with for inspiration and motivation.</p>

<p>So, I&#8217;ll start by sharing a photo of my current workspace.  This is where the magic happens&#8230;</p>

<p><img class="alignnone size-full wp-image-1341" title="image" src="http://brandontreb.com/wp-content/uploads/2010/12/image.jpeg" alt="" width="548" height="409" /></p>

<p>Within my workspace, you will find:</p>

<ul>
    <li>Macbook Pro</li>
    <li>24&#8221; Apple LED Display</li>
    <li>iPad with Kensington Keyboard Case</li>
    <li>Logitec Speakers</li>
    <li>&#8220;Just Like Jesus&#8221; Daily Devotional</li>
    <li>Embark (Target Brand) Fitness Ball</li>
    <li>Apple wireless keyboard and Magic Mouse</li>
    <li>Bonsai Tree (coming soon :) )</li>
</ul>


<p>So there you have, this is my workspace.  Please post a link to your workspace photos or email them to  brandontreb [at] gmail [dot] com and I will append them to this post.  I can&#8217;t wait!</p>

<p>Update: Here are some workspaces submitted by readers so far:</p>

<div class="wp-caption alignnone" style="width: 508px"><img class="  " title="Roaming Gamer" src="http://roaminggamer.com/wp-content/uploads/2010/12/myWorkspace.jpg" alt="" width="498" height="374" /><p class="wp-caption-text">Submitted by Roaming Gamer</p></div>


<p></p>

<div class="wp-caption alignnone" style="width: 517px"><img class="     " title="Wayne D" src="http://cl.ly/1f08221S1I0s27370b0i/workspaceWKD.jpg" alt="" width="507" height="339" /><p class="wp-caption-text">Submitted by Wayne D</p></div>


<p></p>

<div class="wp-caption alignnone" style="width: 488px"><img title="dwsjoquist" src="http://desmond.yfrog.com/Himg619/scaled.php?tn=0&amp;server=619&amp;filename=8jael.jpg&amp;xsize=640&amp;ysize=640" alt="" width="478" height="640" /><p class="wp-caption-text">Submitted by dwsjoquist</p></div>


<p></p>

<div class="wp-caption alignnone" style="width: 485px"><img class="    " title="zzelladonatella" src="http://s3.amazonaws.com/twitpic/photos/large/217685907.jpg?AWSAccessKeyId=0ZRYP5X5F6FSMBCCSE82&amp;Expires=1294094520&amp;Signature=EFY%2B%2Bl4BAieFdfo124GAnn0%2FLZs%3D" alt="" width="475" height="634" /><p class="wp-caption-text">Submitted by zzelladonatella</p></div>


<p></p>

<div class="wp-caption alignnone" style="width: 490px"><img class=" " title="beninati" src="http://desmond.yfrog.com/Himg610/scaled.php?tn=0&amp;server=610&amp;filename=0nt6.jpg&amp;xsize=640&amp;ysize=640" alt="" width="480" height="358" /><p class="wp-caption-text">Submitted by beninati</p></div>


<p></p>

<p><span style="font-family: 'Lucida Grande';"><strong><span style="font-weight: normal;"><span style="font-family: arial, verdana, tahoma, sans-serif; font-size: 13px; line-height: 20px;"><em>﻿﻿This post is part of <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://idevblogaday.com/">iDevBlogADay</a>, a group of indie iOS development blogs featuring two posts per day. You can keep up with iDevBlogADay through the <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://idevblogaday.com/">web site</a>, <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://feeds.feedburner.com/idevblogaday">RSS feed</a>, or <a style="text-decoration: none; color: #004199; padding: 0px; margin: 0px;" href="http://twitter.com/#search?q=%23idevblogaday">Twitter</a>.</em></span></span></strong></span></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/7/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/5/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1>Friends And Sponsors</h1>
  <!-- BuySellAds.com Ad Code --> 
	<script type="text/javascript"> 
		(function(){
		  var bsa = document.createElement('script');
		     bsa.type = 'text/javascript';
		     bsa.async = true;
		     bsa.src = '//s3.buysellads.com/ac/bsa.js';
		  (document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(bsa);
		})();
	</script> 
	<!-- End BuySellAds.com Ad Code --> 

	<center> 
		<!-- BuySellAds.com Zone Code --> 
		<div id="bsap_1242083" class="bsarocks bsap_ecc27b69ffe30504412d8da9c39c3116"></div> 
		<!-- End BuySellAds.com Zone Code -->
	</center>
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/tools-of-the-trade-what-tools-i-use-for-ios-consulting/">Tools of The Trade: What Tools I Use For iOS Consulting</a>
      </li>
    
      <li class="post">
        <a href="/what-i-learned-in-my-first-month-being-a-contract-ios-developer/">What I Learned In My First Month Being A Contract iOS Developer</a>
      </li>
    
      <li class="post">
        <a href="/five-third-party-libraries/">5 Third Party iOS Libraries I Have Found Useful Lately</a>
      </li>
    
      <li class="post">
        <a href="/how-to-become-an-indie-game-developer/">How To Become An Indie Game Developer</a>
      </li>
    
      <li class="post">
        <a href="/my-number-one-feature-request-for-ios-6/">My Number One Feature Request For iOS 6</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/brandontreb">@brandontreb</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'brandontreb',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("brandontreb", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/brandontreb" class="twitter-follow-button" data-show-count="true">Follow @brandontreb</a>
  
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Brandon Trebitowski -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'brandontreb';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
